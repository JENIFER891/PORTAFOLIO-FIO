<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Evaluación Final - Aplicación Web Inteligente</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #000000;
      background-color: #fffcf6a4;
      margin: 0;
      padding: 0;
    }
    
    .contenido-semana {
      max-width: 900px;
      margin: 40px auto;
      padding: 30px;
      background-color: #ddd7bf;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.1);
    }
    
    .resumen-container {
      background-color: #f8f9fa;
      padding: 25px;
      border-radius: 8px;
      margin-bottom: 30px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      overflow: hidden;
    }
    
    .resumen-title {
      color: white;
      padding: 16px 25px;
      border-radius: 8px;
      margin: -25px -25px 25px -25px;
      background: linear-gradient(135deg, #000000 0%, #4a3fb8 100%);
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      position: relative;
      overflow: hidden;
      transform: translateY(0);
      transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
      animation: slideIn 0.8s ease-out;
    }
    
    .resumen-container:nth-child(odd) .resumen-title {
      background: linear-gradient(135deg, #000000 0%, #4a3fb8 100%);
    }
    
    .resumen-title:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      background: linear-gradient(135deg, #000000 0%, #7060ff 100%);
    }
    
    .resumen-title::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.2),
        transparent
      );
      transition: 0.6s;
    }
    
    .resumen-title:hover::before {
      left: 100%;
    }
    
    @keyframes slideIn {
      0% {
        opacity: 0;
        transform: translateY(-30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7);
      }
      70% {
        box-shadow: 0 0 0 15px rgba(108, 92, 231, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(108, 92, 231, 0);
      }
    }
    
    .resumen-title {
      animation: slideIn 0.8s ease-out, pulse 2s infinite 1s;
    }
    
    .resumen-item {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .resumen-item:last-child {
      border-bottom: none;
    }
    
    .resumen-item img {
      max-width: 80%;
      display: block;
      margin: 15px auto;
      border: 1px solid #ddd;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .image-caption {
      text-align: center;
      font-style: italic;
      color: #666;
      font-size: 0.9em;
      margin-top: 5px;
      margin-bottom: 15px;
    }
    
    .code-block {
      background-color: #2d2d2d;
      color: #f8f8f2;
      padding: 15px;
      border-radius: 5px;
      font-family: 'Courier New', Courier, monospace;
      overflow-x: auto;
      margin: 15px 0;
    }
    
    .pdf-controls {
      margin: 30px 0;
      text-align: center;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
    }
    
    .pdf-controls a {
      display: inline-block;
      padding: 12px 20px;
      background-color: #6c5ce7;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      transition: all 0.3s ease;
      font-weight: 500;
      border: none;
      cursor: pointer;
    }
    
    .pdf-controls a:hover {
      background-color: #5649c0;
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .ejercicios-btn {
      background-color: #871dc9 !important;
      margin-top: 15px;
      flex: 1 0 100%;
      max-width: 250px;
    }
    
    h1, h2 {
      color: #4a3fb8;
    }
    
    h1 {
      margin-bottom: 30px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e0d6ff;
      text-align: center;
    }
    
    h2 {
      margin-top: 0;
      color: #5e4b9e;
    }
    
    .criteria-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .criteria-table th, .criteria-table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    
    .criteria-table th {
      background-color: #4a3fb8;
      color: white;
    }
    
    .criteria-table tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    
    @media (max-width: 768px) {
      .contenido-semana {
        margin: 20px;
        padding: 20px;
      }
      
      .resumen-item img {
        max-width: 95%;
      }
      
      .pdf-controls a {
        padding: 10px 15px;
        font-size: 0.9em;
      }
      
      .resumen-title {
        padding: 12px 20px;
        font-size: 1.1em;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>EVALUACIÓN FINAL</h1>
  </header>

  <main class="contenido-semana">
    <h2>Desarrollo de Aplicación Web Inteligente</h2>
    <p>Implementación de una aplicación web con Python (Flask), MySQL, React e integración de modelos de IA</p>
    
    <div class="resumen-container">
      <div class="resumen-title">Requisitos del Proyecto</div>
      
      <div class="resumen-item">
        <h3>Objetivo General</h3>
        <p>Desarrollar una aplicación web inteligente que integre backend con Flask, base de datos MySQL, frontend con React y un modelo de IA para procesamiento de texto.</p>
        
        <h3>Tecnologías Requeridas</h3>
        <ul>
          <li><strong>Backend:</strong> Python (Flask), MySQL</li>
          <li><strong>Frontend:</strong> HTML, CSS, JavaScript, React</li>
          <li><strong>IA:</strong> transformers, scikit-learn o textblob</li>
          <li><strong>Autenticación:</strong> JWT (JSON Web Tokens)</li>
        </ul>
      </div>
    </div>

    <div class="resumen-container">
      <div class="resumen-title">Backend (Flask + MySQL + IA)</div>
      
      <div class="resumen-item">
        <h3>Endpoints Requeridos</h3>
        <div class="code-block">
          # Autenticación
          POST /register - Registrar nuevos usuarios
          POST /login - Autenticar usuarios y generar JWT
          
          # Funcionalidad IA
          POST /analyze-text - Procesar texto con modelo de IA
          
          # Ruta protegida
          GET /profile - Acceso solo con token válido
        </div>
        
        <h3>Ejemplo Implementación Flask</h3>
        <div class="code-block">
          from flask import Flask, request, jsonify
          from flask_jwt_extended import JWTManager, create_access_token, jwt_required

          app = Flask(__name__)
          app.config['JWT_SECRET_KEY'] = 'super-secret'  # Cambiar en producción
          jwt = JWTManager(app)

          # Modelo de IA (ejemplo análisis de sentimientos)
          from textblob import TextBlob
          def analizar_sentimiento(texto):
              analysis = TextBlob(texto)
              return {'polaridad': analysis.sentiment.polarity, 
                      'subjetividad': analysis.sentiment.subjectivity}

          @app.route('/analyze-text', methods=['POST'])
          @jwt_required()
          def analyze_text():
              data = request.get_json()
              texto = data.get('texto', '')
              resultado = analizar_sentimiento(texto)
              return jsonify(resultado)
        </div>
      </div>
      
      <div class="resumen-item">
        <h3>Conexión a MySQL</h3>
        <div class="code-block">
          import mysql.connector
          from mysql.connector import Error

          def create_connection():
              connection = None
              try:
                  connection = mysql.connector.connect(
                      host='localhost',
                      user='root',
                      password='password',
                      database='app_ia'
                  )
                  return connection
              except Error as e:
                  print(f"Error al conectar a MySQL: {e}")
                  return None
        </div>
      </div>
    </div>

    <div class="resumen-container">
      <div class="resumen-title">Frontend (React)</div>
      
      <div class="resumen-item">
        <h3>Componentes Principales</h3>
        <img src="../img/react-components.png" alt="Componentes React">
        <div class="image-caption">Estructura de componentes para la aplicación</div>
        <ul>
          <li><strong>Auth:</strong> Registro e inicio de sesión</li>
          <li><strong>TextAnalysis:</strong> Área para ingresar y analizar texto</li>
          <li><strong>Results:</strong> Visualización de resultados del análisis</li>
          <li><strong>Dashboard:</strong> Resumen de análisis previos</li>
        </ul>
      </div>
      
      <div class="resumen-item">
        <h3>Manejo de JWT en React</h3>
        <div class="code-block">
          // Almacenar token al hacer login
          const login = async (credentials) => {
            const response = await fetch('/login', {
              method: 'POST',
              headers: {'Content-Type': 'application/json'},
              body: JSON.stringify(credentials)
            });
            const data = await response.json();
            localStorage.setItem('token', data.token);
          };

          // Enviar token en solicitudes protegidas
          const analyzeText = async (text) => {
            const token = localStorage.getItem('token');
            const response = await fetch('/analyze-text', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
              },
              body: JSON.stringify({texto: text})
            });
            return await response.json();
          };
        </div>
      </div>
    </div>

    <div class="resumen-container">
      <div class="resumen-title">Modelos de IA</div>
      
      <div class="resumen-item">
        <h3>Opciones de Implementación</h3>
        <div class="code-block">
          # Opción A: Análisis de sentimientos con TextBlob
          from textblob import TextBlob
          texto = "Python es un lenguaje fantástico"
          blob = TextBlob(texto)
          print(blob.sentiment)  # Sentiment(polarity=0.8, subjectivity=0.75)

          # Opción B: Resumen de texto con Transformers
          from transformers import pipeline
          summarizer = pipeline("summarization")
          resumen = summarizer(texto, max_length=130, min_length=30)
        </div>
        
        <h3>Integración con Flask</h3>
        <div class="code-block">
          @app.route('/analyze-text', methods=['POST'])
          def analyze_text():
              data = request.get_json()
              texto = data.get('texto', '')
              
              # Elegir modelo según opción
              if modelo == 'sentimiento':
                  resultado = analizar_sentimiento(texto)
              elif modelo == 'resumen':
                  resultado = generar_resumen(texto)
                  
              return jsonify(resultado)
        </div>
      </div>
    </div>

    <div class="resumen-container">
      <div class="resumen-title">Criterios de Evaluación</div>
      
      <div class="resumen-item">
        <table class="criteria-table">
          <tr>
            <th>Criterio</th>
            <th>Ponderación</th>
          </tr>
          <tr>
            <td>Autenticación y seguridad (JWT)</td>
            <td>25%</td>
          </tr>
          <tr>
            <td>Integración del modelo de IA</td>
            <td>25%</td>
          </tr>
          <tr>
            <td>Fluidez entre frontend y backend</td>
            <td>20%</td>
          </tr>
          <tr>
            <td>Experiencia de usuario y diseño</td>
            <td>15%</td>
          </tr>
          <tr>
            <td>Código limpio y documentación</td>
            <td>15%</td>
          </tr>
        </table>
        
        <h3>Recomendaciones</h3>
        <ul>
          <li>Implementar validación de datos en todos los endpoints</li>
          <li>Manejar errores adecuadamente (try-catch)</li>
          <li>Documentar el código y endpoints (comentarios/docstrings)</li>
          <li>Probar todas las funcionalidades antes de entregar</li>
        </ul>
      </div>
    </div>

    <div class="pdf-controls">
      <a href="../cuaderno.html">← Volver al cuaderno</a>
      <a href="../docs/MONOGRAFÍA-GRUPO 7-JAV.pdf" download>Descargar Documentación</a>
      </div>
  </main>
</body>
</html>